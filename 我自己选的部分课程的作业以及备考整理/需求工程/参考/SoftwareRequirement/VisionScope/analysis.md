汉风堂订餐系统问题分析过程
===

南京大学软件学院16级本科  
2018年10月1日
---

## 团队
> 161250192 恽叶霄  
> 161250102 钱美缘  
> 161250037 郝睿  
> 161250070 林宇超  



## 1 明确问题  
### 1.1 初步了解问题  
&ensp;&ensp;“汉风堂”是南京大学仙林校区的一家校内餐厅，经营几年，生意火爆，常常出现店面无法容纳下所有顾客的现象，因此餐厅希望推出外卖订餐服务，新建一个方便快捷的外卖订餐系统。服务推出后，预计系统使用者有店内职工：包括总经理和接单服务员、外包性质的学生送餐员以及订餐顾客。由于餐厅营业环境在学校，周围没有更多的商家，因此无法将送餐服务转给大型外卖平台，导致招募的送餐员都是兼职的学生，缺乏送餐经验，业务能力得不到保证，可能会招致顾客及餐厅双方面的不满。学生送餐员可能是部分学生一时兴起报名成为的，工作的积极性无法得到保证。另外，收银员本来只需要负责将堂食顾客的订单报至后厨和收银，在外卖服务推出后还需要同时将外卖订餐系统中接到的订单及时的传递给后厨以及接受顾客关于送餐员的问题反馈。如果消息传递的不及时，可能会降低顾客的满意度。由于餐厅提供的菜品较多，餐厅总经理苦于无法高效的统计菜品销量排行，做到及时的推陈出新，避免备菜冗余。综上所述，餐厅希望新建立的外卖订餐系统可以解决这些问题，改善餐厅的经营和管理。  
&ensp;&ensp;我们小组通过开会讨论，从中提取出了几个客户希望表达的问题和我们开发人员的疑问并记录下来，然后与客户进行了第一次面谈，面谈报告如下：  

|会见者：林宇超|日期：2010年10月4日|
|:---|:---|
|被会见者：|主题：关于“汉风堂”外卖服务面临问题的初步了解|
|会见目标</br>初步了解餐厅外卖服务的业务流程</br>了解餐厅的运营状况及规模</br>了解餐厅对于外卖服务的担忧</br>了解客户的一些希望和目标|
|谈话要点：</br>简要说明餐厅外卖服务的业务流程</br>对于外卖服务的担忧</br>对未来发展的希望和一些措施</br>对新系统的一些看法和期望|被会见者的观点：</br>顾客点单，收银员接单报至后厨，后厨做好后打包留待送餐员取餐送给顾客</br>招不到高质量送餐员；收银员太忙</br>迫切需要一个高效易用的外卖订餐系统</br>能解决问题，简单易用，能提供菜品销量查看，提高利润|
|下次会见的目标：</br>对此次面谈中不明确的部分进一步面谈和了解</br>对提出的解决方案进行协商评估</br>找出下一个被会见者的观点|

通过这次面谈，我们了解到该店的一些情况：  
**目前状况**  
1. 该店店面较小，容纳不了所有顾客同时就餐； 
2. 由1带来的订单数量和经营利润的不理想；  
3. 该店暂时没有推出外卖订餐服务；  
4. 该店职员有总经理1人，收银员和厨师若干；希望在外卖服务推出后将送餐外包给兼职学生  
5. 期望的外卖服务流程：顾客通过系统付钱订餐--->收银员接单并通知后厨--->后厨出菜打包--->送餐员取餐送餐--->顾客取餐消费并进行评价；  
6. 菜单菜品较多，没有统计菜品销量，时常会造成备菜冗余  

**客户希望实现的功能**  
1. 顾客便捷下单  
2. 收银员接单清楚明确  
3. 有顾客对菜品的评价功能  
4. 有顾客对送餐员的评价功能  
5. 有顾客分享菜品至社交平台功能  
6. 能够查看菜品的销量排行  
7. 能够根据销量和评价更新菜单  
8. 能够通过系统招募到可靠的送餐员 
9. 能够及时提醒送餐员送餐  

**总的概述**  
当前，该餐厅并没有推出过外卖订餐服务，主要的担忧在于推出该项服务之后的员工效率问题，以及餐厅的口碑是否会受到负面影响。  
### 1.2 问题达成共识
&ensp;&ensp;面谈之后，我们提炼了五个主要的高层次问题，采用如下标准化的格式进行描述，并在涉众之间取得了认同。  

|**要素**|**内容**|
|:---|:---|
|**ID**|P1|
|**提出者**|总经理|
|**关联者**|总经理、顾客|
|**问题**|餐厅较小，无法容纳所有顾客|
|**影响**|餐厅利润无法进一步提高；顾客满意度下降；餐厅树立的良好口碑得到损害|

|**要素**|**内容**|
|:---|:---|
|**ID**|P2|
|**提出者**|总经理|
|**关联者**|总经理、顾客|
|**问题**|餐厅离外包外卖商较远|
|**影响**|无法将送餐服务转给大型外卖平台|

|**要素**|**内容**|
|---|---|
|**ID**|P3|
|**提出者**|总经理|
|**关联者**|总经理|
|**问题**|希望进一步提高订单数|
|**影响**|餐厅营业额无法上升|


|**要素**|**内容**|
|---|---|
|**ID**|P4|
|**提出者**|总经理|
|**关联者**|总经理|
|**问题**|销量低的菜品造成备菜冗余|
|**影响**|餐厅成本得不到降低，利润得不到提高；造成不必要的资源浪费|

|**要素**|**内容**|
|---|---|
|**ID**|P5|
|**提出者**|总经理|
|**关联者**|总经理、送餐员、顾客|
|**问题**|担心招不到高质量的学生送餐员|
|**影响**|影响外卖服务的开展；降低餐厅的外卖订单数；降低顾客订餐体验|

|**要素**|**内容**|
|---|---|
|**ID**|P6|
|**提出者**|总经理|
|**关联者**|总经理、送餐员、顾客|
|**问题**|希望能够保持送餐员的送餐效率以及积极性|
|**影响**|餐厅营业额无法上升；影响顾客满意程度|

|**要素**|**内容**|
|---|---|
|**ID**|P7|
|**提出者**|收银员|
|**关联者**|收银员、顾客|
|**问题**|担心新系统学习成本较高，使用过于复杂|
|**影响**|无法兼顾堂食订单和外卖订单；降低顾客消费体验|

**收集背景资料，判断问题的明确性**  
&ensp;&ensp;我们通过收集有关“汉风堂”餐厅和外卖订餐服务相关的背景资料，结合客户提出的问题，分析和理解问题域，对上述7个问题的明确性做了初步判断，认为上述问题都属于是明确一致的问题。  


## 2 涉众分析
### 2.1 涉众识别
通过任务发现涉众并过滤非关键涉众后，我们识别出了初始涉众类别并建立了如下的交互网络草图：  
![](img/Interaction.png)

### 2.2 涉众描述
涉众的基本特征描述：  

|涉众|特征|
|:---|:---|
|订餐顾客|绝大多数的订餐顾客是南京大学校内的学生或者教职工，顾客使用系统是为了避免去狭小的汉风堂餐厅内部就餐，同时也为了节约用餐时间。顾客在营业时间使用系统完成订单，之后等待系统通知从送餐员处取得自己的外卖，等待时间必须控制在合理范围内。|
|送餐员|送餐员是南京大学仙林校区的兼职学生，通过了招募和审核，属于外包性质，不属于汉风堂的员工。送餐员使用系统获取外卖订单，并从收银员处取得菜品，在规定时间内送给订餐顾客。|
|收银员|收银员将使用系统将订单报送后厨，并将后厨做好的菜品打包转交给送餐员。收银员是汉风堂原来的员工，由于同时负责堂食收银，因此使用系统应当尽可能地便捷。|
|经理|经理使用系统查看外卖的菜品销售排行和餐厅财务数据，可以对外卖系统的菜单手动作出调整。经理可以在任何时候访问到系统的数据。|

涉众的扩展特征描述：  

|涉众|主要目标|态度|主要关注点|约束条件|
|:---|:---|:---|:---|:---|
|订餐顾客|节约时间，避免在餐厅排队|积极支持外卖系统，认为应当尽早上线|使用简单，送餐速度快，快速选择菜品|需要通过网络访问系统|
|送餐员|帮助餐厅送餐，以取得报酬|愿意通过外卖系统送餐，但是担心得到的报酬不够|送餐方便，每天均能保证一定的收入|可能没有足够的空闲时间送餐，送餐速度有限。|
|收银员|方便地接收订单和打包外卖的转交|担心影响到平时的收银业务，否则很愿意接受该系统|保证不影响正常工作|繁忙的收银工作中使用系统的时间有限|
|经理|增加餐厅销售额，高效统计菜品销量|强烈要求尽快完成外卖系统以改善餐厅的经营和管理|关注送餐所需的费用、系统的安全性以及餐厅口碑的变化|需要使用网络访问系统，很少有时间对餐厅做出细致的管理|

### 2.3 涉众评估
#### 2.3.1 优先级评估
建立User/Task表格，通过对表格内容的分析和比较来评估涉众的优先级：  

|用户群体|任务|群体数量|优先级|
|:---|:---|:---|:---|
|订餐顾客|下单订餐| \>200 |3|
|送餐员|送餐|10-20|3|
|收银员|转交订单|2-5|2|
|经理|餐厅管理|1|1|

基于涉众扩展特征建立的Power/Interest分布图：  
![Power/Interest分布图](img/Power-Interest.png)  
* 送餐员/订餐顾客（参与者）：系统的实际使用者，和订餐系统之间的相互影响较大，给予这个系统更多的关注。
* 经理（环境设定者）：通常很少直接使用订餐系统，但是由于负责对餐厅的管理而对系统有比较大的影响力。
* 收银员（被影响者）：虽然直接使用系统但是原有的工作会受到影响。  

#### 2.3.2 风险评估
基于涉众的态度建立的Power/Attitude分布图：  
![Power/Attitude分布图](img/Power-Attitude.png)   
* 订餐顾客（强支持者）：强烈要求订餐系统尽快实现，以节约订餐时间。
* 经理（强支持者）：强烈要求订餐系统尽快实现，以方便自己的管理工作。
* 送餐员（弱支持者）：订餐系统可以为他们带来兼职机会，但是并没有那么迫切。
* 收银员（弱反对者）：担心订餐系统影响现有的收银工作  

出于化解风险的考虑制定合适的项目策略：
* 提高环境设定者对系统的关注：系统为总经理提供更加便利的管理和分析功能。
* 化解弱反对者的忧虑：提高系统的易用性，为收银员增加合适的报酬。
* 给予被影响者发表和实现自身意见的权力：邀请安排收银员参与到软件开发的过程中。  

## 3. 发现业务需求  

---

确定每一个问题对应的目标的过程就是发现业务需求的过程。因此，针对上述六个高层次问题，我们确定了对应的业务需求。将问题描述表扩展成以下的问题及业务需求描述表： 

| **要素**   | **内容**                                                     |
| :--------- | :----------------------------------------------------------- |
| **ID**     | P1                                                           |
| **提出者** | 总经理                                                       |
| **关联者** | 总经理、顾客                                                 |
| **问题**   | 餐厅较小，无法容纳所有顾客                                   |
| **影响**   | 餐厅利润无法进一步提高；顾客满意度下降；餐厅树立的良好口碑得到损害 |
| ***目标*** | BR1: 使用系统1个月后，一天的实际顾客数提高20%<br>BR2: 使用系统3个月后，订单数量提高10%<br>BR5: 使用系统可以达到线上订餐功能 |

| **要素**   | **内容**                              |
| ---------- | ------------------------------------- |
| **ID**     | P2                                    |
| **提出者** | 总经理                                |
| **关联者** | 总经理                                |
| **问题**   | 希望进一步提高订单数                  |
| **影响**   | 餐厅营业额无法上升                    |
| ***目标*** | BR2: 使用系统3个月后，订单数量提高10% |


| **要素**   | **内容**                                                     |
| ---------- | ------------------------------------------------------------ |
| **ID**     | P3                                                           |
| **提出者** | 总经理                                                       |
| **关联者** | 总经理                                                       |
| **问题**   | 销量低的菜品造成备菜冗余                                     |
| **影响**   | 餐厅成本得不到降低，利润得不到提高；造成不必要的资源浪费     |
| ***目标*** | BR2: 使用系统3个月后，订单数量提高10%<br>BR6: 使用系统后可以很明确找到高销量菜品 |

| **要素**   | **内容**                                                     |
| ---------- | ------------------------------------------------------------ |
| **ID**     | P4                                                           |
| **提出者** | 总经理                                                       |
| **关联者** | 总经理、送餐员、顾客                                         |
| **问题**   | 担心招不到高质量的学生送餐员                                 |
| **影响**   | 影响外卖服务的开展；降低餐厅的外卖订单数；降低顾客订餐体验   |
| ***目标*** | BR3: 使用系统3个月后，能够招到能力达到一般企业送餐员订单数40%的学生送餐员 |

| **要素**   | **内容**                                                     |
| ---------- | ------------------------------------------------------------ |
| **ID**     | P5                                                           |
| **提出者** | 总经理                                                       |
| **关联者** | 总经理、送餐员、顾客                                         |
| **问题**   | 希望能够保持送餐员的送餐效率以及积极性                       |
| **影响**   | 餐厅营业额无法上升；影响顾客满意程度                         |
| ***目标*** | BR1: 使用系统1个月后，一天的实际顾客数提高20%<br>BR2: 使用系统3个月后，订单数量提高10%<br>BR4: 使用系统3个月之后，学生送餐员的订单数并没有明显下降 |

| **要素**   | **内容**                                                     |
| ---------- | ------------------------------------------------------------ |
| **ID**     | P6                                                           |
| **提出者** | 总经理                                                       |
| **关联者** | 总经理、送餐员、顾客、接单员                                 |
| **问题**   | 希望app能够上手简单                                          |
| **影响**   | 影响顾客满意程度；影响接单员送餐员使用效率                   |
| ***目标*** | BR7：使总经理、接单员能够在1天之内上手平台，顾客、送餐员能够在半小时内大概了解平台所有操作 |

经过进一步的线上讨论与线下面谈，我们确定了问题解决的优先级，也就是需要优先解决优先级高的问题

| **要素**   | **内容**                                                     |
| :--------- | :----------------------------------------------------------- |
| **ID**     | P1                                                           |
| **问题**   | 餐厅较小，无法容纳所有顾客                                   |
| **优先级**   | 高                                   |

| **要素**   | **内容**                                                     |
| :--------- | :----------------------------------------------------------- |
| **ID**     | P2                                                           |
| **问题**   | 希望进一步提高订单数                                   |
| **优先级**   | 高                                   |

| **要素**   | **内容**                                                     |
| :--------- | :----------------------------------------------------------- |
| **ID**     | P3                                                           |
| **问题**   | 销量低的菜品造成备菜冗余                                   |
| **优先级**   | 低                                   |

| **要素**   | **内容**                                                     |
| :--------- | :----------------------------------------------------------- |
| **ID**     | P4                                                           |
| **问题**   | 担心招不到高质量的学生送餐员                                   |
| **优先级**   | 中                                   |

| **要素**   | **内容**                                                     |
| :--------- | :----------------------------------------------------------- |
| **ID**     | P5                                                           |
| **问题**   | 希望能够保持送餐员的送餐效率以及积极性                                   |
| **优先级**   | 中                                   |

| **要素**   | **内容**                                                     |
| :--------- | :----------------------------------------------------------- |
| **ID**     | P6                                                           |
| **问题**   | 希望app能够上手简单                                   |
| **优先级**   | 低                                   |



## 4. 定义解决方案与系统特性

---

### 4.1 确定高层次的解决方案

首先，我们对每一个明确一致的问题都尽可能发现各种可行的解决方案：

| 问题 | 解决方案                                                     |
| ---- | ------------------------------------------------------------ |
| P1   | S1: 将菜品至于平台线上，提供线上订餐功能，并能够进行实时交易 |
| P2   | S1: 将菜品至于平台线上，提供线上订餐功能，并能够进行实时交易<br>S2: 提供明星热销、招牌推荐等菜品功能，每天都对菜单进行更新排序<br>S3: 系统可以制作促销策略<br>S6: 提供app平台分享和菜品分享功能 |
| P3   | S2: 提供明星热销、招牌推荐等菜品功能，每天都对菜单进行更新排序 |
| P4   | S4: 系统提供学生注册送餐员的实名验证，并能与校方对接到学生的身份能力信息，通过对身份能力信息进行验证筛选符合条件的学生 |
| P5   | S5: 采取信息对称的送餐员工可视评分机制即通过学生每月订单完成情况评价送餐员工 |
| P6   | S7: 提供新手教程                                             |

| **解决方案1** | **内容**                                                     |
| ------------- | ------------------------------------------------------------ |
| **对应ID**    | P1、P2                                                       |
| **方案描述**  | 将菜品至于平台线上，提供线上订餐功能，并能够进行实时交易     |
| **业务优势**  | 顾客可以方便地进行订餐不受时空限制，商家也更好地管理订单，也可以增加订单 |
| **代价**      | 制作平台本身需要人力技术代价                                 |

| **解决方案2** | **内容**                                                     |
| ------------- | ------------------------------------------------------------ |
| **对应ID**    | P2、P3                                                       |
| **方案描述**  | 提供明星热销、招牌推荐等菜品功能，每天都对菜单进行更新排序   |
| **业务优势**  | 顾客可以方便地找到高销量或推荐菜品，选择满意的菜品           |
| **代价**      | 制作功能本身需要人力技术代价，低销量的菜品可能会因此销量更低 |

| **解决方案3** | **内容**                     |
| ------------- | ---------------------------- |
| **对应ID**    | P2                           |
| **方案描述**  | 系统可以制作促销策略         |
| **业务优势**  | 吸引更多顾客进行订餐         |
| **代价**      | 制作促销本身需要人力技术代价 |

| **解决方案4** | **内容**                                                     |
| ------------- | ------------------------------------------------------------ |
| **对应ID**    | P4                                                           |
| **方案描述**  | 系统提供学生注册送餐员的实名验证，并能与校方对接到学生的身份能力信息，通过对身份能力信息进行验证筛选符合条件的学生 |
| **业务优势**  | 可以在信用基础上保障学生的质量                               |
| **代价**      | 与校方沟通取得信息需要很大代价                               |

| **解决方案5** | **内容**                                                     |
| ------------- | ------------------------------------------------------------ |
| **对应ID**    | P5                                                           |
| **方案描述**  | 采取信息对称的送餐员工可视评分机制即通过学生每月订单完成情况评价送餐员工 |
| **业务优势**  | 激励学生在平台上保持一定时间的效率；方便总经理对送餐员的业绩审查 |
| **代价**      | 制作奖励机制本身需要代价                                     |

| **解决方案6** | **内容**                               |
| ------------- | -------------------------------------- |
| **对应ID**    | P2                                     |
| **方案描述**  | 提供app平台分享和菜品分享功能          |
| **业务优势**  | 扩大宣传范围，扩大市场                 |
| **代价**      | 制作分享功能本身需要对接社交平台的代价 |

| **解决方案7** | **内容**                                                     |
| ------------- | ------------------------------------------------------------ |
| **对应ID**    | P6                                                           |
| **方案描述**  | 提供新手教程                                                 |
| **业务优势**  | 能够迅速引领顾客或者应聘送餐员快速熟悉平台，增加顾客或送餐员数量 |
| **代价**      | 制作新手教程本身需要代价                                     |

经过进一步的与甲方的线上讨论与线下面谈，我们确定了解决方案中的优先级，甲方指定最重要的解决方案，其余解决方案均建立在该解决方案之上，优先级与相关问题一致，最重要的解决方案也就是

| **解决方案1** | **内容**                                                     |
| ------------- | ------------------------------------------------------------ |
| **对应ID**    | P1、P2                                                       |
| **方案描述**  | 将菜品至于平台线上，提供线上订餐功能，并能够进行实时交易     |
| **业务优势**  | 顾客可以方便地进行订餐不受时空限制，商家也更好地管理订单，也可以增加订单 |
| **代价**      | 制作平台本身需要人力技术代价                                 |


### 4.2 确定系统特性和解决方案的边界

&ensp;&ensp;在选定解决方案之后，我们进一步分析并确定出这些解决方案所需具备的系统特性。  

|**针对的问题**|**解决方案所需的系统特性**|
|---|---|
|P1|SF1: 系统提供菜单中菜品的增删改查等管理功能<br>SF2: 系统支持第三方平台支付、转账<br>SF3: 系统记录订单的建立、生效、接单、结束<br>SF4: 记录送餐员的订单以及个人信息|
|P2|SF5: 系统提供向第三方平台的平台和菜品分享功能<br>SF6: 系统允许总经理制定促销策略|
|P3|SF7: 系统定时根据菜品的销量和反馈更新菜单|
|P4|SF8: 系统能够对接校园身份信息并进行处理<br>SF9: 系统允许总经理通过或拒绝一个学生的应聘|
|P5|SF10: 系统记录送餐员每次送餐的相关数据<br>SF11: 系统建立送餐员评价体制|
|P6|SF12: 系统具有新手导航功能|

&ensp;&ensp;接着，我们根据已经确定下来的系统特性，分析系统与周围环境及涉众的交互作用，定义解决方案的边界，并同时确定了信息流的输入输出关系：  

SF1~SF4的用例图  
![](img/P1.png)

SF5~SF6的用例图  
![](img/P2.png)

SF7的用例图  
![](img/P3.png)

SF8~SF9的用例图  
![](img/P4.png)

SF10~SF11的用例图  
![](img/P5.png)

SF12的用例图  
![](img/P6.png)

由此可知，该系统共6个问题，每个问题的平均输入数量为1.5，平均输出数量为1.5，平均特性数量为2。  

### 4.3 确定解决方案的约束

约束在总体上限制了开发人员设计和构建系统时的选择范围。我们从操作性、系统及操作系统、设备预算、人员资源和技术要求这几个主要的约束源来考察每个解决方案的约束，如下表所示：

**解决方案1、2、3、4、5、6、7约束**

| **约束源** | **约束**                                          | **理由**                                                     |
| ---------- | ------------------------------------------------- | ------------------------------------------------------------ |
| ***技术*** | Constraint-1 使用Android + Spring的App平台        | App方式符合正常的网络订餐趋势，并且Android&Spring的开源性质能够降低成本 |
| ***系统*** | Constraint-2 使用MySQL数据库管理系统              | 降低成本                                                     |
| ***经济*** | Constraint-3 需要购买云服务器以及网络上的实名域名 | 使用网络系统的必要流程                                       |
| ***环境*** | Constraint-4 使用手机平台作为送餐线上平台         | 符合大众的趋势和使用方式，节约更多跨平台成本                 |

**解决方案5约束**

| **约束源** | **约束**                                                     | **理由**                                       |
| ---------- | ------------------------------------------------------------ | ---------------------------------------------- |
| ***经济*** | Constraint-5 商家、送餐员需要支付送餐的运送交通费用          | 方便学生送餐员解决送餐                         |
| ***资源*** | Constraint-6 需要提供送餐员的人身安全保障<br>Constraint-7 使用学生送餐 | 保障学生安全<br>能够较好进行信息对称的验证工作 |

**解决方案4约束**

| **约束源** | **约束**                                                    | **理由**                 |
| ---------- | ----------------------------------------------------------- | ------------------------ |
| ***经济*** | Constraint-8 取得部分学生信息需要支付一定的保证金           | 使得有关部门能够信任餐厅 |
| ***行政*** | Constraint-9 需要与校方行政内部部门沟通，并取得部分学生信息 | 方便验证学生送餐员的质量 |


### 4.4 确定系统边界
&ensp;&ensp;通过整合所有问题的解决方案，我们确定了整个系统的功能和边界。我们绘制了汉风唐订餐系统的上下文图，在图中，我们列出了所有与该系统交互的外部实体，描述了这些外部实体与本系统交互中涉及到的数据流，包括了系统输入和系统输出。  
![](img/context.png)

&ensp;&ensp;最后我们将所有与客户达成一致意见的解决方案所对应的用例整合起来，建立了一张汉风唐订餐系统的系统用例图，展示系统特性和行为特性。  
![](img/sys_uc.png)